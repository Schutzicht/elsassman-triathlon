---
interface Props {
  title: string;
  tagline: string;
  backgroundImage?: string;
  videoUrl?: string;
}

const { title, tagline, backgroundImage = '/assets/hero-placeholder.jpg', videoUrl } = Astro.props;
---

<section class="relative h-screen min-h-[800px] flex items-center justify-center overflow-hidden">
  <!-- Background Layer -->
  <div class="absolute inset-0 z-0">
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-brand-dark/50 to-brand-dark z-10 w-full h-full"></div>
    {videoUrl ? (
      <video class="w-full h-full object-cover" autoplay muted loop playsinline>
        <source src={videoUrl} type="video/mp4" />
      </video>
    ) : (
      <img src={backgroundImage} alt="Hero Background" class="w-full h-full object-cover scale-110 animate-slow-zoom" />
    )}
  </div>

  <!-- Content -->
  <div class="relative z-20 text-center container mx-auto px-4 max-w-6xl">
    <h2 class="text-brand-primary tracking-[0.2em] uppercase text-sm md:text-base mb-6 font-bold animate-fade-in-up">
        {title}
    </h2>
    <h1 class="font-display text-5xl md:text-8xl lg:text-9xl font-black uppercase leading-none tracking-tight mb-8 animate-fade-in-up delay-100">
      <span class="block bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400">
        Swim Fast
      </span>
      <span class="block text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary">
        Bike Strong
      </span>
      <span class="block bg-clip-text text-transparent bg-gradient-to-r from-white via-gray-200 to-gray-400">
        Run to Win
      </span>
    </h1>
    
    <p class="text-lg md:text-2xl text-gray-300 max-w-2xl mx-auto mb-10 font-light animate-fade-in-up delay-200">
      {tagline}
    </p>
    
    <div class="flex flex-col md:flex-row gap-6 justify-center animate-fade-in-up delay-300">
      <a href="/inscriptions" class="btn-primary clip-path-slant group">
        <span class="relative z-10">Register Now</span>
      </a>
      <a href="/les-courses" class="btn-secondary clip-path-slant">
        Discover Races
      </a>
    </div>
  </div>

  <!-- Scroll Indicator -->
  <div class="absolute bottom-10 left-1/2 -translate-x-1/2 z-20 animate-bounce">
    <svg class="w-6 h-6 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
    </svg>
  </div>
</section>

<style>
  .animate-slow-zoom {
    animation: zoom 20s infinite alternate;
  }
  
  @keyframes zoom {
    from { transform: scale(1.1); }
    to { transform: scale(1.2); }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
    transform: translateY(20px);
  }
  
  .delay-100 { animation-delay: 0.1s; }
  .delay-200 { animation-delay: 0.2s; }
  .delay-300 { animation-delay: 0.3s; }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .clip-path-slant {
    clip-path: polygon(10% 0, 100% 0, 100% 80%, 90% 100%, 0 100%, 0 20%);
  }
</style>
